<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- CSS only -->
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    /> -->
    <style type="text/css" media="screen">
      * {
        margin: 0;
        padding: 0;
        font-family: "Jost", sans-serif;
      }
      body {
        background: #f7f7f7;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        height: 100vh;
        width: 100vw;
        font-family: "Jost", sans-serif;
      }
      input {
        font-family: "Noto Serif KR", sans-serif;
        width: 20vw;
        height: 2.5vw;
        color: black;
        word-spacing: 2px;
        margin: auto;
        display: block;
        border-bottom-width: 2px;
        border-bottom-color: #ebe8e8;
        border-left: #ebe8e8 2px;
        border-right-width: 2px;
        border-right-color: #ebe8e8;
        border-top: white 2px;
        border-radius: 8px;
        padding: 0px 8px;
        align-content: center;
        align-items: center;
        justify-content: center;
        font-size: 1.3vw;
      }
      html {
        font-size: 100%;
        height: 100%;
      }
      label {
        display: flex;
        font-family: "Jost", sans-serif;
        flex-wrap: wrap;
        color: black;
        margin-bottom: 8px;
        font-size: 1.3vw;
      }
      .mb-3 {
        margin: 2vw 0vw;
      }
      .btncontainer {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
      }
      .btn {
        width: 100%;
        height: 2.3vw;
        background-color: #fc406c;
        color: white;
        font-size: 1.3vw;
        font-family: "Jost", sans-serif;
        border-radius: 12px;
        border-color: #fc406c;
        font-weight: 500;
      }
       #messageContainer {
        margin: 8px;
        width: 100%;
        
      }
      #message {
        font-size: 0.8vw;
        color: red;
        max-width: 20vw;
      }
    </style>
    <title>Get Form</title>
  </head>
  <body class="bg-dark text-white">
    <div class="container mt-4 col-4 col-offset-6">
      <form method="POST" action="/api/v1/password/reset">
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
            title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
            type="password"
            class="form-control"
            name="password"
            id="password"
            required
          />
        </div>
        <div class="mb-3">
          <label for="confirmpassword" class="form-label">
            Confirm Password</label
          >
          <input
            type="password"
            class="form-control"
            name="confirmpassword"
            id="confirmpassword"
            required
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
            title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
          />
        </div>
        <input type="hidden" name="user" value= <%= user.email %> >
        <div class="btncontainer">
          <button type="submit" class="btn">Submit</button>
        </div>
      </form>
     
      <div id="messageContainer">
        <p id="message"></p>
      </div>
    </div>
  </body>
  <script>
    var pswrd = document.getElementById("password");
    var cnfrmpswrd = document.getElementById("confirmpassword");
    pswrd.onkeyup = function () {
      // Validate lowercase letters
      var letters = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;
      if (!myInput.value.match(letters)) {
        document.getElementById("message").innerHTML =
          "Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters";
      } else {
        document.getElementById("message").innerHTML = "";
      }
    };
    cnfrmpswrd.onkeyup = function () {
      // Validate lowercase letters
      if (cnfrmpswrd.value != pswrd.value) {
        document.getElementById("message").innerHTML =
          "Password and Confirm Password and not equal";
      } else {
        document.getElementById("message").innerHTML = "";
      }
    };
  </script>
</html>
